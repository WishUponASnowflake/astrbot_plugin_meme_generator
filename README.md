<div align="center">

![:name](https://count.getloli.com/@astrbot_plugin_meme_generator?name=astrbot_plugin_meme_generator&theme=gelbooru&padding=8&offset=0&align=top&scale=1&pixelated=0&darkmode=auto)

# ğŸ­ AstrBot è¡¨æƒ…åŒ…ç”Ÿæˆå™¨

_âœ¨ é«˜æ€§èƒ½æ™ºèƒ½è¡¨æƒ…åŒ…ç”Ÿæˆå™¨ - è®©èŠå¤©æ›´æœ‰è¶£ âœ¨_

![Version](https://img.shields.io/badge/version-v1.0.0-blue?style=for-the-badge)
![Python](https://img.shields.io/badge/python-3.11+-blue?style=for-the-badge)
![License](https://img.shields.io/badge/license-GNU%20GPL%20v3-green?style=for-the-badge)
![AstrBot](https://img.shields.io/badge/AstrBot-Plugin-purple?style=for-the-badge)

</div>

## ğŸš€ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªä¸“ä¸º **AstrBot** æ‰“é€ çš„ **æ™ºèƒ½è¡¨æƒ…åŒ…ç”Ÿæˆæ’ä»¶**ï¼ŒåŸºäº [meme-generator-rs](https://github.com/MemeCrafters/meme-generator-rs) ä¸ [nonebot-plugin-memes](https://github.com/MemeCrafters/nonebot-plugin-memes) å¼€å‘ã€‚æ’ä»¶èåˆäº†é«˜æ•ˆçš„å›¾åƒå¤„ç†ä¸æ¨¡æ¿åŒ¹é…æŠ€æœ¯ï¼Œèƒ½å¤Ÿä¸ºç”¨æˆ·å¸¦æ¥å¤šæ ·åŒ–ã€çµæ´»è€Œæœ‰è¶£çš„è¡¨æƒ…åŒ…åˆ›ä½œä½“éªŒã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ–¼ï¸ **å¤šæºå›¾ç‰‡æ”¯æŒ** - è‡ªåŠ¨è·å–ç”¨æˆ·å¤´åƒã€æ”¯æŒä¸Šä¼ å›¾ç‰‡ã€å¼•ç”¨æ¶ˆæ¯å›¾ç‰‡
- âš¡ **é«˜æ€§èƒ½æ¸²æŸ“** - åŸºäº Rust åº•å±‚å¼•æ“ï¼Œç”Ÿæˆé€Ÿåº¦æå¿«
- ğŸ¨ **ä¸°å¯Œæ¨¡æ¿åº“** - å†…ç½® 200+ ç²¾é€‰è¡¨æƒ…åŒ…æ¨¡æ¿
- ğŸ”§ **çµæ´»é…ç½®** - æ”¯æŒé»‘åå•ç®¡ç†ã€å›¾ç‰‡å‹ç¼©ã€è¶…æ—¶æ§åˆ¶ç­‰
- ğŸ’¾ **æ™ºèƒ½ç¼“å­˜** - å¤´åƒç¼“å­˜æœºåˆ¶ï¼Œæå‡ç”Ÿæˆé€Ÿåº¦
- â±ï¸ **å†·å´æ§åˆ¶** - é˜²æ­¢åˆ·å±ï¼Œä¿æŠ¤æœåŠ¡å™¨èµ„æº

![img.png](static/picture/demo.png)

## ğŸ“¦ å¿«é€Ÿå®‰è£…

```bash
# è¿›å…¥æ’ä»¶ç›®å½•
cd astrBot/data/plugins

# å…‹éš†é¡¹ç›®
git clone https://github.com/SodaSizzle/astrbot_plugin_meme_generator

# å®‰è£…ä¾èµ–
pip install -r astrbot_plugin_meme_generator/requirements.txt
```

### ğŸš€ èµ„æºåˆå§‹åŒ–

> ğŸ’¡ **é‡è¦æç¤º**: é¦–æ¬¡å¯åŠ¨éœ€è¦ä¸‹è½½è¡¨æƒ…åŒ…æ¨¡æ¿èµ„æºï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚

#### è‡ªåŠ¨ä¸‹è½½ï¼ˆæ¨èï¼‰
æ’ä»¶ä¼šåœ¨é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨ä¸‹è½½æ‰€éœ€èµ„æºåˆ°ç”¨æˆ·ç›®å½•ï¼š
- **Windows**: `C:\Users\{ç”¨æˆ·å}\.meme_generator\`
- **Linux**: `~/.meme_generator/`

#### æ‰‹åŠ¨ä¸‹è½½ï¼ˆç½‘ç»œè¾ƒæ…¢æ—¶ä½¿ç”¨ï¼‰

å¦‚æœè‡ªåŠ¨ä¸‹è½½å¤±è´¥æˆ–é€Ÿåº¦è¿‡æ…¢ï¼Œå¯ä»¥æ‰‹åŠ¨ä¸‹è½½èµ„æºåŒ…ï¼š

**ä¸‹è½½åœ°å€**: https://github.com/SodaSizzle/astrbot_plugin_meme_generator/releases/tag/v1.0.0

##### Windows ç³»ç»Ÿ
```bash
# 1. ä¸‹è½½ resources.zip
# 2. è§£å‹åˆ° C:\Users\{ä½ çš„ç”¨æˆ·å}\.meme_generator\ ç›®å½•ä¸‹
```

##### Linux ç³»ç»Ÿ
```bash
# 1. ä¸‹è½½ resources.tar.gz
# 2. è§£å‹åˆ°æŒ‡å®šç›®å½•
tar -zxvf resources.tar.gz -C ~/.meme_generator/
```

##### Docker ç¯å¢ƒ
```bash
# 1. æ‹·è´ resources.tar.gz åˆ°å®¹å™¨å†…æŒ‡å®šç›®å½•
docker cp resources.tar.gz astrbot:/root/.meme_generator/

# 2. è§£å‹åˆ°æŒ‡å®šç›®å½•
docker exec -it astrbot tar -zxvf /root/.meme_generator/resources.tar.gz -C /

# 3. å¯åŠ¨ AstrBot
docker restart astrbot 
```

### âš ï¸ å­—ä½“é—®é¢˜è§£å†³

å¦‚æœé‡åˆ°è¡¨æƒ…åŒ…ä¸­æ–‡å­—æ˜¾ç¤ºå¼‚å¸¸ï¼ˆä¹±ç ã€æ–¹å—ç­‰ï¼‰ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤è§£å†³ï¼š

#### Linux ç³»ç»Ÿ(docker)
```bash
export LANG=en_US.UTF-8
# é‡å¯ AstrBot ( docker restart astrbot )
```

#### éªŒè¯å®‰è£…
èµ„æºä¸‹è½½å®Œæˆåï¼Œç›®å½•ç»“æ„åº”è¯¥å¦‚ä¸‹ï¼š
```
.meme_generator/
â””â”€â”€ resources/
    â”œâ”€â”€ fonts/          # å­—ä½“æ–‡ä»¶
    â””â”€â”€ images/         # å›¾ç‰‡èµ„æº
```
## ğŸ¨ æ·»åŠ é¢å¤–èµ„æº

> ğŸ“– **å‚è€ƒæ–‡æ¡£**: [åŠ è½½å…¶ä»–è¡¨æƒ… - meme-generator-rs Wiki](https://github.com/MemeCrafters/meme-generator-rs/wiki/%E5%8A%A0%E8%BD%BD%E5%85%B6%E4%BB%96%E8%A1%A8%E6%83%85)

å¦‚æœå¸Œæœ›åŠ è½½éæœ¬ä»“åº“å†…ç½®çš„è¡¨æƒ…åŒ…ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

### ğŸ“‹ é…ç½®æ­¥éª¤

#### 1ï¸âƒ£ å¯ç”¨å¤–éƒ¨è¡¨æƒ…åŒ…åŠ è½½
åœ¨ [é…ç½®æ–‡ä»¶](https://github.com/MemeCrafters/meme-generator-rs/wiki/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6) ä¸­å°† `load_external_memes` è®¾ç½®ä¸º `true`

#### 2ï¸âƒ£ æ·»åŠ åŠ¨æ€é“¾æ¥åº“
å°†å…¶ä»–è¡¨æƒ…ä»“åº“ç¼–è¯‘å‡ºçš„åŠ¨æ€é“¾æ¥åº“æ”¾ç½®äº `$MEME_HOME/libraries` æ–‡ä»¶å¤¹ä¸‹

> ğŸ’¾ **ä¸‹è½½åœ°å€**: [meme-generator-contrib-rs Actions](https://github.com/MemeCrafters/meme-generator-contrib-rs/actions/runs/16098581677)

#### 3ï¸âƒ£ æ·»åŠ èµ„æºæ–‡ä»¶
å°†è¡¨æƒ…éœ€è¦çš„å›¾ç‰‡/å­—ä½“æ”¾ç½®äº `$MEME_HOME/resources` æ–‡ä»¶å¤¹ä¸‹

> ğŸ“ **èµ„æºç¤ºä¾‹**: [contrib-rs/resources/images](https://github.com/MemeCrafters/meme-generator-contrib-rs/tree/main/resources/images)

### ğŸ› å¸¸è§é—®é¢˜è§£å†³

#### Fontconfig é”™è¯¯ä¿®å¤
å¦‚é‡ `Fontconfig error: Cannot load default config file` é”™è¯¯ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¹¶é‡å¯ï¼š

```bash
# æ›´æ–°åŒ…ç®¡ç†å™¨å¹¶å®‰è£…å­—ä½“é…ç½®
apt update && apt install -y fontconfig fonts-dejavu-core

# é‡å»ºå­—ä½“ç¼“å­˜
fc-cache -fv
```

> ğŸ’¡ **æç¤º**: `$MEME_HOME` å³ `.meme_generator` ç›®å½•ã€‚Docker ç”¨æˆ·è¯·è‡ªè¡Œå¤åˆ¶åˆ°å®¹å™¨ä¸­æ“ä½œã€‚

## âš™ï¸ é…ç½®è¯´æ˜

### ä¸»è¦é…ç½®é¡¹

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| `enable_plugin` | bool | `true` | å…¨å±€æ§åˆ¶æ’ä»¶æ˜¯å¦å“åº”ç”¨æˆ·è¯·æ±‚ |
| `cooldown_seconds` | int | `3` | å•ä¸ªç”¨æˆ·è¿ç»­ç”Ÿæˆè¡¨æƒ…åŒ…çš„æœ€å°é—´éš”æ—¶é—´(ç§’) |
| `generation_timeout` | int | `30` | å•ä¸ªè¡¨æƒ…åŒ…ç”Ÿæˆçš„æœ€å¤§ç­‰å¾…æ—¶é—´(ç§’) |
| `enable_avatar_cache` | bool | `true` | æ˜¯å¦å¯ç”¨å¤´åƒç¼“å­˜ä»¥æå‡ç”Ÿæˆé€Ÿåº¦ |
| `cache_expire_hours` | int | `24` | å¤´åƒç¼“å­˜çš„æœ‰æ•ˆæœŸ(å°æ—¶) |
| `disabled_templates` | list | `[]` | ç¦ç”¨çš„è¡¨æƒ…åŒ…æ¨¡æ¿åˆ—è¡¨ |

### ç¼“å­˜ç³»ç»Ÿè¯´æ˜

- **ç¼“å­˜ä½ç½®**: `data/cache/meme_avatars/`
- **ç¼“å­˜æ–‡ä»¶**: ç”¨æˆ·å¤´åƒä»¥MD5å“ˆå¸Œå‘½åå­˜å‚¨
- **å…ƒæ•°æ®**: `metadata.json` è®°å½•ç¼“å­˜æ—¶é—´æˆ³
- **è‡ªåŠ¨æ¸…ç†**: æ¯6å°æ—¶è‡ªåŠ¨æ¸…ç†è¿‡æœŸç¼“å­˜

## ğŸ“‹ å‘½ä»¤åˆ—è¡¨

### ğŸ® è¡¨æƒ…å¸®åŠ©

<div align="center">

![è¡¨æƒ…å¸®åŠ©å‘½ä»¤æ•ˆæœå›¾](static/picture/help.png)

_âœ¨ è¡¨æƒ…å¸®åŠ© - æŸ¥çœ‹æ’ä»¶å®Œæ•´åŠŸèƒ½èœå• âœ¨_

</div>

| å‘½ä»¤ | åŠŸèƒ½æè¿° | ç¤ºä¾‹ |
|------|----------|------|
| `è¡¨æƒ…å¸®åŠ©` | æŸ¥çœ‹æ’ä»¶å¸®åŠ©èœå• | `è¡¨æƒ…å¸®åŠ©` / `memeå¸®åŠ©` |
| `è¡¨æƒ…åˆ—è¡¨` | æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æ¨¡æ¿ | `è¡¨æƒ…åˆ—è¡¨` / `memeåˆ—è¡¨` |
| `è¡¨æƒ…ä¿¡æ¯ <å…³é”®è¯>` | æŸ¥çœ‹æ¨¡æ¿è¯¦ç»†ä¿¡æ¯ | `è¡¨æƒ…ä¿¡æ¯ æ‘¸å¤´` / `memeä¿¡æ¯ æ‹æ‹` |
| `<å…³é”®è¯> [å‚æ•°]` | ç”Ÿæˆè¡¨æƒ…åŒ… | `æ‘¸å¤´ @æŸäºº` / `ä¸¾ç‰Œ ä½ å¥½ä¸–ç•Œ` |

<div align="center">

![è¡¨æƒ…åˆ—è¡¨å‘½ä»¤æ•ˆæœå›¾](static/picture/list.png)

_âœ¨ è¡¨æƒ…åˆ—è¡¨ - æµè§ˆæ‰€æœ‰å¯ç”¨çš„è¡¨æƒ…åŒ…æ¨¡æ¿ âœ¨_

</div>

### ğŸ”§ è¡¨æƒ…çŠ¶æ€

<div align="center">

![è¡¨æƒ…çŠ¶æ€å‘½ä»¤æ•ˆæœå›¾](static/picture/info.png)

_âœ¨ è¡¨æƒ…çŠ¶æ€ - æŸ¥çœ‹æ’ä»¶è¯¦ç»†è¿è¡ŒçŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯ âœ¨_

</div>

| å‘½ä»¤ | åŠŸèƒ½æè¿° | ç¤ºä¾‹ |
|------|----------|------|
| `è¡¨æƒ…å¯ç”¨` | å¯ç”¨æ•´ä¸ªæ’ä»¶åŠŸèƒ½ | `è¡¨æƒ…å¯ç”¨` / `memeå¯ç”¨` |
| `è¡¨æƒ…ç¦ç”¨` | ç¦ç”¨æ•´ä¸ªæ’ä»¶åŠŸèƒ½ | `è¡¨æƒ…ç¦ç”¨` / `memeç¦ç”¨` |
| `è¡¨æƒ…çŠ¶æ€` | æŸ¥çœ‹æ’ä»¶è¯¦ç»†ä¿¡æ¯å’Œç»Ÿè®¡ | `è¡¨æƒ…çŠ¶æ€` / `memeçŠ¶æ€` |
| `å•è¡¨æƒ…ç¦ç”¨ <æ¨¡æ¿å>` | ç¦ç”¨æŒ‡å®šæ¨¡æ¿ | `å•è¡¨æƒ…ç¦ç”¨ æ‘¸å¤´` |
| `å•è¡¨æƒ…å¯ç”¨ <æ¨¡æ¿å>` | å¯ç”¨æŒ‡å®šæ¨¡æ¿ | `å•è¡¨æƒ…å¯ç”¨ æ‘¸å¤´` |
| `ç¦ç”¨åˆ—è¡¨` | æŸ¥çœ‹è¢«ç¦ç”¨çš„æ¨¡æ¿åˆ—è¡¨ | `ç¦ç”¨åˆ—è¡¨` |


## ğŸ¯ å¿«é€Ÿä¸Šæ‰‹

### åŸºç¡€ä½¿ç”¨
```
è¡¨æƒ…å¸®åŠ©          # æŸ¥çœ‹å®Œæ•´åŠŸèƒ½èœå•
è¡¨æƒ…åˆ—è¡¨          # æµè§ˆæ‰€æœ‰æ¨¡æ¿
æ‘¸å¤´ @ç”¨æˆ·        # ç”Ÿæˆè¡¨æƒ…åŒ…
ä¸¾ç‰Œ ä½ å¥½ä¸–ç•Œ      # æ–‡å­—è¡¨æƒ…åŒ…
```

### ç®¡ç†åŠŸèƒ½
```
è¡¨æƒ…çŠ¶æ€          # æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
å•è¡¨æƒ…ç¦ç”¨ æ¨¡æ¿å   # ç¦ç”¨æŒ‡å®šæ¨¡æ¿
è¡¨æƒ…ç¦ç”¨          # ä¸´æ—¶å…³é—­æ’ä»¶
```

## ğŸ”§ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒä¾èµ–

- **[meme-generator-rs](https://github.com/MemeCrafters/meme-generator-rs)** - Rust é«˜æ€§èƒ½è¡¨æƒ…åŒ…ç”Ÿæˆå¼•æ“
- **[nonebot-plugin-memes](https://github.com/MemeCrafters/nonebot-plugin-memes)** - æ¨¡æ¿èµ„æºå’Œç®—æ³•å‚è€ƒ
- **AstrBot** - æœºå™¨äººæ¡†æ¶å’Œå¹³å°é€‚é…


## â¤ï¸ è‡´è°¢

ç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- [meme-generator-rs](https://github.com/MemeCrafters/meme-generator-rs) - é«˜æ€§èƒ½è¡¨æƒ…åŒ…ç”Ÿæˆå¼•æ“
- [nonebot-plugin-memes](https://github.com/MemeCrafters/nonebot-plugin-memes) - æ¨¡æ¿èµ„æºå’Œç®—æ³•å‚è€ƒ
- [AstrBot](https://github.com/Soulter/AstrBot) - ä¼˜ç§€çš„æœºå™¨äººæ¡†æ¶

---

<div align="center">

**ğŸ‰ æ„Ÿè°¢ä½¿ç”¨ AstrBot è¡¨æƒ…åŒ…ç”Ÿæˆå™¨ï¼**

å¦‚æœè§‰å¾—å¥½ç”¨ï¼Œè¯·ç»™ä¸ª â­ Star æ”¯æŒä¸€ä¸‹ï¼

</div>
